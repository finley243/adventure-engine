<data>
    <action id="move_basic">
        <prompt>$areaName ($dir)</prompt>
        <parameter name="areaName">stat.parentArea.name</parameter>
        <script>
            var origin_id = stat.subject.area.id;
            var area = stat.parentArea.noun;
            sendSensoryEvent(phrase=stat.parentArea.move_phrase, area=set(origin_id, stat.parentArea.id));
            stat.subject.area = stat.parentArea.id;
        </script>
    </action>
    <action id="move_corner">
        <prompt>$areaName (Around corner, $dir)</prompt>
        <script>
            var origin_id = stat.subject.area.id;
            var area = stat.parentArea.noun;
            sendSensoryEvent(phrase="moveCorner", area=origin_id);
            stat.subject.area = stat.parentArea.id;
            sendSensoryEvent(phrase="moveCorner", area=stat.parentArea.id, detectSelf=false);
        </script>
    </action>
    <action id="move_door">
        <prompt>$areaName (Through $doorName, $dir)</prompt>
        <parameter name="doorName">stat.parentObject.name</parameter>
        <parameter name="areaName">stat.parentArea.name</parameter>
        <condition>
            <blockMessage>Locked</blockMessage>
            <script>stat.parentObject.locked == null || !stat.parentObject.locked</script>
        </condition>
        <script>
            var origin_id = stat.subject.area.id;
            var area = stat.parentArea.noun;
            var room_origin = stat.subject.area.room.id;
            var room_target = stat.parentArea.room.id;
            var area_origin = room_origin != room_target ? stat.subject.area.room.noun : stat.subject.area.noun;
            var door = stat.parentObject.noun;
            sendSensoryEvent(phrase="moveThrough", area=origin_id);
            stat.subject.area = stat.parentArea.id;
            sendSensoryEvent(phrase="moveThroughReverse", area=stat.parentArea.id);
        </script>
    </action>
</data>